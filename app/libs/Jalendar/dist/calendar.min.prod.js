"use strict";!function(j){j.fn.jalendar=function(e){function a(){k[1]=D(c);var e=new Date;e.setFullYear(g,C,0),e=e.getDay()+m,y.find(".header h1").html(l[r.lang][C]+" "+g+'<div class="total-bar"></div>'),y.find(".day").html("&nbsp;").removeAttr("data-date").removeClass("this-month have-event disable-selecting");for(var a=0;a<42-(e+k[C]);a++)y.find(".day").eq(e+k[C]+a).html("<span>"+(a+1)+"</span>");for(a=0;a<e;a++){var t=null==k[C-1]?k[11]:k[C-1];y.find(".day").eq(a).html("<span>"+(t-e+(a+1))+"</span>")}for(a=1;a<=k[C];a++){var n;e++,t=C+1,!0===r.dayWithZero&&(a=a<10?"0"+a:a),!0===r.monthWithZero&&(t=C<9?"0"+(C+1):C+1),"dd-mm-yyyy"==r.dateType?n=a+"-"+t+"-"+g:"mm-dd-yyyy"==r.dateType?n=t+"-"+a+"-"+g:"yyyy-mm-dd"==r.dateType?n=g+"-"+t+"-"+a:"yyyy-dd-mm"==r.dateType&&(n=g+"-"+a+"-"+t),"linker"==r.type?y.find(".day").eq(e-1).addClass("this-month").attr("data-date",n).html('<span><a href="'+r.customUrl+n+'">'+a+"</a></span>"):y.find(".day").eq(e-1).addClass("this-month").attr("data-date",n).html("<span>"+a+"</span>");var d=Math.round(new Date(g+"/"+(C+1)+"/"+a+" 00:00:00").getTime()/1e3),i=Math.round(new Date(f+"/"+(p+1)+"/"+u+" 00:00:00").getTime()/1e3);1==r.selectingBeforeToday&&i<d&&y.find(".day").eq(e-1).addClass("disable-selecting"),1==r.selectingAfterToday&&d<i&&y.find(".day").eq(e-1).addClass("disable-selecting"),y.find(".days").attr("data-month",t).attr("data-year",g)}C==v.getMonth()&&g==v.getFullYear()?y.find(".day.this-month").removeClass("today").eq(b-1).addClass("today"):y.find(".day.this-month").removeClass("today").attr("style",""),y.find(".added-event").each(function(e){j(this).attr("data-id",e),y.find('.this-month[data-date="'+j(this).attr("data-date")+'"]').addClass("have-event "+j(this).data("type")).append(h("div","event-single").attr("data-id",e).append(h("a","").attr("href",j(this).attr("data-link")).attr("target","blank").text(j(this).attr("data-title"))))}),function(){var e=y.find(".this-month .event-single").length;0==e&&y.find(".total-bar").hide(0),y.find(".total-bar").text(e),y.find(".events h3 span").text(j(".jalendar .day.selected .event-single").length)}(),null!==r.dayColor&&y.find(".day span, .day span a").css({color:r.dayColor}),null!==r.titleColor&&y.find(".header h1, .header .prv-m, .header .nxt-m, .event-single p, h3, .close-button").css({color:r.titleColor}),null!==r.weekColor&&y.find("h2").css({color:r.weekColor}),null!==r.todayColor&&y.find(".day.this-month.today span, .day.this-month.today span a").css({color:r.todayColor}),"#fff"!=r.color&&"#ffffff"!=r.color&&"white"!=r.color||y.find(".header h1, .header .prv-m, .header .nxt-m, .day.today span, h2, .event-single p, h3, .close-button").css({"text-shadow":"none"})}function t(){y.find(".day").removeClass("selected").removeAttr("style"),y.find(".add-event").removeClass("selected").height(0)}function n(){if(y.find(".day").removeClass("first-range range last-range"),null!==M)if(0==y.find('[data-date="'+E.val()+'"]').length){if(N<Number(y.find(".days").attr("data-month"))&&A>=Number(y.find(".days").attr("data-year"))||A<Number(y.find(".days").attr("data-year"))?M=0:(N>Number(y.find(".days").attr("data-month"))&&A<=Number(y.find(".days").attr("data-year"))||A>Number(y.find(".days").attr("data-year")))&&(M=42),null!==T){if(A==x&&N==S)return!1;var e=parseInt(y.find(".days").attr("data-year"),10),a=parseInt(y.find(".days").attr("data-month"),10);(A<e&&e<x||a<S&&e<=x&&A<e||N<a&&A==e&&a<S&&x==e||N<a&&e<x&&A==e||N<a&&A==e&&a<S&&e<=x)&&y.find(".day").addClass("range")}}else M=y.find('[data-date="'+E.val()+'"]').index()}function d(){y.find('.day[data-date="'+E.val()+'"]').addClass("first-range"),y.find('.day[data-date="'+F.val()+'"]').addClass("last-range"),y.find('.day[data-date="'+E.val()+'"]').nextUntil('.day[data-date="'+F.val()+'"]').addClass("range"),0<y.find('.day[data-date="'+F.val()+'"]').length&&(0<y.find(".day.first-range").length?y.find(".day.first-range").nextUntil(".day.last-range").addClass("range"):(y.find(".day:eq("+M+")").nextUntil(".day.last-range").addClass("range"),0==M&&y.find(".day:eq(0)").addClass("range")))}var r=j.extend({customDay:new Date,color:"#3aa4d1",color2:"",lang:"EN",type:"",customUrl:"#",dateType:"dd-mm-yyyy",dayWithZero:!0,monthWithZero:!0,sundayStart:!1,dayColor:null,titleColor:null,weekColor:null,todayColor:null,selectingBeforeToday:!1,selectingAfterToday:!1,done:null},e),l={},i={},s={};(e={}).EN="Mon Tue Wed Thu Fri Sat Sun".split(" "),e.TR="Pzt Sal Çar Per Cum Cmt Pzr".split(" "),e.ES="Lun Mar Mié Jue Vie Såb Dom".split(" "),e.DE="Mon Die Mit Don Fre Sam Son".split(" "),e.FR="Lun Mar Mer Jeu Ven Sam Dim".split(" "),e.IT="Lun Mar Mer Gio Ven Sab Dim".split(" "),e.FIL="Lun Mar Miy Huw Biy Sab Lin".split(" "),e.RU="Пн Вт Ср Чт Пт Сб Вс".split(" "),e.NL="Ma Di Wo Do Vr Za Zo".split(" "),e.ZH="星期一 星期二 星期三 星期四 星期五 星期六 星期天".split(" "),e.HI="रविवार सोमवार मंगलवार बुधवार गुरुवार शुक्रवार शनिवार".split(" "),e.PT="Se Te Qu Qu Se Sa Do".split(" "),e.PL="po wt sr cz pi so ni".split(" "),l.EN="January February March April May June July August September October November December".split(" "),l.TR="Ocak Şubat Mart Nisan Mayıs Haziran Temmuz Ağustos Eylül Ekim Kasım Aralık".split(" "),l.ES="Enero Febrero Marzo Abril Mayo Junio Julio Agosto Septiembre Octubre Noviembre Diciembre".split(" "),l.DE="Januar Februar März April Mai Juni Juli August September Oktober November Dezember".split(" "),l.FR="Janvier Février Mars Avril Mai Juin Juillet Aoút Septembre Octobre Novembre Décembre".split(" "),l.IT="Gennaio Febbraio Marzo Aprile Maggio Guigno Luglio Agosto Settembre Ottobre Novembre Dicembre".split(" "),l.FIL="Enero Pebrero Marso Abril Mayo Hunyo Hulyo Agosto Setyembre Oktubre Nobyembre Disyembre".split(" "),l.RU="Январь Февраль Март Апрель Май Июнь Июль Август Сентябрь Октябрь Ноябрь Декабрь".split(" "),l.NL="januari februari maart april mei juni juli augustus september oktober november december".split(" "),l.ZH="一月 二月 三月 四月 五月 六月 七月 八月 九月 十月 十一月 十二月".split(" "),l.HI="जनवरी फरवरी मार्च अप्रैल मई जून जुलाई अगस्त सितंबर अक्टूबर नवंबर दिसंबर".split(" "),l.PT="Janeiro Fevereiro Março Abril Maio Junho Julho Agosto Setembro Outubro Novembro Dezembro".split(" "),l.PL="styczen luty marzec kwiecien maj czerwiec lipiec sierpien wrzesien pazdziernik listopad grudzien".split(" "),i.EN="Event(s)",i.TR="Etkinlik",i.ES="Evento(s)",i.DE="Tätigkeit",i.FR="Activité(s)",i.IT="Attività",i.FIL="Aktibidad",i.RU="Деятельность",i.NL="Activiteit(en)",i.ZH="事件",i.HI="परिणाम",i.PT="Eventos",i.PL="Działalność",s.EN="Close",s.TR="Kapat",s.ES="Cerrar",s.DE="Schließen",s.FR="Fermer",s.IT="Chiudere",s.FIL="Isara",s.RU="Закрыть",s.NL="Sluiten",s.ZH="關閉",s.HI="बंद करे",s.PT="Fechar",s.PL="Zamknąć";var o=new Date,u=o.getDate(),p=o.getMonth(),f=o.getFullYear(),y=j(this),h=function(e,a){return j(document.createElement(e)).addClass(a)};for(o=""===r.color2?r.color:r.color2,y.append(j('<input type="hidden" class="data1" /><input type="hidden" class="data2" />'),h("div","jalendar-container").append(h("div","jalendar-pages").append(h("div","header").append(h("a","prv-m").append(h("i","fa fa-angle-left")),h("h1"),h("a","nxt-m").append(h("i","fa fa-angle-right")),h("div","day-names")),h("div","days"),h("div","add-event").append(h("div","events").append(h("h3","").html("<span></span> "+i[r.lang]),h("div","events-list")),h("div","close-button").text(s[r.lang]))).attr("style","background-color:"+r.color+"; background: -webkit-gradient(linear, left top, left bottom, from("+r.color+"), to("+o+")); background: -webkit-linear-gradient(top, "+r.color+", "+o+"); background : -moz-linear-gradient(top, "+r.color+", "+o+"); background: -ms-linear-gradient(top, "+r.color+", "+o+"); background: -o-linear-gradient(top, "+r.color+", "+o+");"))),"range"==r.type&&y.find(".jalendar-pages").addClass("range").append(h("input","first-range-data").attr({type:"hidden"}),h("input","last-range-data").attr({type:"hidden"})),i=0;i<42;i++)y.find(".days").append(h("div","day"));var m=0;for(1==r.sundayStart&&(y.find(".day-names").append(h("h2").text(e[r.lang][6])),m=1),i=m;i<7;i++)y.find(".day-names").append(h("h2").text(e[r.lang][i-m]));var c,v=new Date(r.customDay),g=v.getFullYear(),b=v.getDate(),C=v.getMonth(),D=function(e){return(e=new Date).setYear(g),e.setMonth(1),e.setDate(29),29==e.getDate()==!0?29:28},k=[31,D(c),31,30,31,30,31,31,30,31,30,31],M=null,T=null,N=null,S=null,A=null,x=null;a(),e=[y.find(".prv-m"),y.find(".nxt-m")],y.find(".jalendar .close-button");var E=y.find("input.first-range-data"),F=y.find("input.last-range-data");e[1].on("click",function(){11<=C?(C=0,g++):C++,a(),t(),"range"==r.type&&(n(),d())}),e[0].on("click",function(){dayClick=y.find(".this-month"),0===C?(C=11,g--):C--,a(),t(),"range"==r.type&&(n(),d())}),y.on("click",".close-button",function(e){e.preventDefault(),y.find(".add-event").removeClass("selected").height(0),y.find(".this-month.selected").removeClass("selected")}),y.on("click",".this-month:not(.disable-selecting)",function(){if("selector"==r.type)return j(this).parent().find(".selected").removeClass("selected"),j(this).addClass("selected"),y.find("input.data1").val(y.find(".this-month.selected").attr("data-date")),y.parent().is(".jalendar-input")&&(y.parent().find("input").removeClass("selected"),y.parent(".jalendar-input").find("input").val(j(this).data("date"))),null!==r.done&&r.done.call(this),!1;if("range"==r.type){var e=function(e){e.addClass("last-range"),F.val(e.attr("data-date")),T=y.find(".last-range").index(),S=Number(y.find(".days").attr("data-month")),x=Number(y.find(".days").attr("data-year"))},a=function(e){e.parent().find(".day").removeClass("first-range").removeClass("range").removeClass("last-range"),e.addClass("first-range"),E.val(e.attr("data-date")),M=y.find('[data-date="'+y.find(".first-range").attr("data-date")+'"]').index(),N=Number(y.find(".days").attr("data-month")),A=Number(y.find(".days").attr("data-year")),T=null,F.val("")};if(j(this).parent().find(".first-range"),j(this).parent().find(".last-range"),null!==M)if(null!==T)a(j(this));else{if(M>j(this).index())return a(j(this)),!1;e(j(this)),y.find("input.data1").val(E.val()),y.find("input.data2").val(F.val()),y.parent().is(".jalendar-input")&&(y.parent().find("input").removeClass("selected"),y.parent(".jalendar-input").find("input").val(y.find("input.data1").val()+", "+y.find("input.data2").val())),null!==r.done&&r.done.call(this)}else a(j(this));return y.on({mouseenter:function(){if(null===M)return!1;""===F.val()&&(y.find(".day").removeClass("range last-range"),j(this).index()>M&&j(this).hasClass("this-month")&&(j(this).addClass("last-range"),j(this).parent().find(".day:eq("+M+")").nextUntil(".this-month.last-range").addClass("range"),0==M&&j(this).parent().find(".day:eq(0)").addClass("range")))},mouseleave:function(){""===F.val()&&j(this).parent().find(".day").removeClass("last-range").removeClass("range")}},".range .day.this-month"),!1}e=j(this).find(".event-single"),y.find(".events .event-single").remove(),t(),""===r.type&&(y.find("input.data1").val(j(this).data("date")),j(this).addClass("selected"),y.find(".add-event").find(".events-list").html(e.clone()),y.parent().is(".jalendar-input")&&y.parent(".jalendar-input").find("input").val(j(this).data("date")),0<=y.find(".events .event-single").length&&y.find(".events h3 span").html(y.find(".events .event-single").size()),y.find(".add-event").addClass("selected").height(y.find(".add-event .events").height()+59))}),y.parent().is(".jalendar-input")&&y.parent(".jalendar-input").find('input[type="text"], .jalendar').on("click",function(e){e.stopPropagation(),j(this).addClass("selected")}),j("html").on("click",function(){j(".jalendar-input input").removeClass("selected")})}}(jQuery);